---
import Section from '../ui/Section.astro';
import Container from '../ui/Container.astro';
import SectionHeading from '../ui/SectionHeading.astro';
import Button from '../ui/Button.astro';

interface Props {
  contact: {
    heading: string;
    subheading: string;
    form: {
      nameLabel: string;
      emailLabel: string;
      companyLabel: string;
      messageLabel: string;
      submitCta: string;
    };
    quickAction: {
      label: string;
      description: string;
      whatsappCta: string;
    };
  };
  phoneNumber: string;
}

const { contact, phoneNumber } = Astro.props satisfies Props;

const whatsappHref = `https://wa.me/${phoneNumber.replace(/[^+\d]/g, '')}`;
---

<Section id="contact" background="tint">
  <Container class="relative grid gap-12 lg:grid-cols-[1fr_minmax(320px,0.85fr)]">
    <div class="relative z-10">
      <SectionHeading
        eyebrow="CONTACT"
        title={contact.heading}
        description={contact.subheading}
      />
      <div class="mt-10 rounded-[30px] bg-white/95 p-8 shadow-[0_25px_70px_-50px_rgba(9,34,64,0.65)] ring-1 ring-ocean-100/50">
        <form class="grid gap-6">
          <label class="block">
            <span class="text-xs font-medium uppercase tracking-[0.25em] text-deep/60">
              {contact.form.nameLabel}
            </span>
            <input
              type="text"
              name="name"
              required
              class="mt-2 w-full rounded-2xl border border-ocean-100/80 bg-white px-4 py-3 text-sm text-deep shadow-sm transition focus:border-ocean-300 focus:outline-none focus:ring-2 focus:ring-ocean-100"
            />
          </label>
          <label class="block">
            <span class="text-xs font-medium uppercase tracking-[0.25em] text-deep/60">
              {contact.form.emailLabel}
            </span>
            <input
              type="email"
              name="email"
              required
              class="mt-2 w-full rounded-2xl border border-ocean-100/80 bg-white px-4 py-3 text-sm text-deep shadow-sm transition focus:border-ocean-300 focus:outline-none focus:ring-2 focus:ring-ocean-100"
            />
          </label>
          <label class="block">
            <span class="text-xs font-medium uppercase tracking-[0.25em] text-deep/60">
              {contact.form.companyLabel}
            </span>
            <input
              type="text"
              name="company"
              class="mt-2 w-full rounded-2xl border border-ocean-100/80 bg-white px-4 py-3 text-sm text-deep shadow-sm transition focus:border-ocean-300 focus:outline-none focus:ring-2 focus:ring-ocean-100"
            />
          </label>
          <label class="block">
            <span class="text-xs font-medium uppercase tracking-[0.25em] text-deep/60">
              {contact.form.messageLabel}
            </span>
            <textarea
              name="message"
              rows={4}
              class="mt-2 w-full rounded-2xl border border-ocean-100/80 bg-white px-4 py-3 text-sm text-deep shadow-sm transition focus:border-ocean-300 focus:outline-none focus:ring-2 focus:ring-ocean-100"
            ></textarea>
          </label>
          <Button type="submit" variant="primary" size="lg" class="justify-center shadow-md shadow-[#0f62fe]/30">
            {contact.form.submitCta}
          </Button>
        </form>
      </div>
    </div>
    <aside class="relative flex flex-col justify-center gap-6 rounded-[30px] bg-gradient-to-br from-[#03172f] via-[#052b52] to-[#0b3f73] p-10 text-white shadow-[0_25px_60px_-45px_rgba(9,34,64,0.75)]">
      <div class="inline-flex w-fit items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-white/75">
        <span class="inline-block h-2 w-2 rounded-full bg-emerald-300"></span>
        {contact.quickAction.label}
      </div>
      <p class="text-2xl font-display font-semibold leading-snug">
        {contact.quickAction.description}
      </p>
      <Button
        variant="secondary"
        size="lg"
        href={whatsappHref}
        target="_blank"
        rel="noopener noreferrer"
        class="justify-center border-white/40 bg-white/15 text-white hover:bg-white/25"
      >
        {contact.quickAction.whatsappCta}
      </Button>
    </aside>
    <div class="pointer-events-none absolute inset-0 -z-10 rounded-[44px] bg-[radial-gradient(circle_at_bottom_left,rgba(15,98,254,0.14),transparent_55%)]"></div>
  </Container>
</Section>
